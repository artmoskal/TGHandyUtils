# Todoist TaskBot 🧛‍♂️🚀

Are you tired of manually creating tasks in Todoist after every chat with your friends, boss, or worse... your mom? Fear not, because **Todoist TaskBot** is here to save your day! With our semi-unnecessary, completely over-engineered AI-powered bot, you can finally live the hands-free life you've always dreamed of. 🚀

## How it Works

1. You chat (or forward messages, or forward and give instruction).
2. The bot listens (in a totally non-creepy way).
3. The bot thinks very, very hard.
4. The bot creates a Todoist task for you with almost the correct details.
5. You bind Todoist with [Google Calendar](https://todoist.com/help/articles/use-the-calendar-integration-rCqwLCt3G) or whatever you use

Basically, we're like a confused assistant who overheard half your conversation and decided to "help". You're welcome! 😉

## Features

- ✉ Listens to your Telegram messages and pretends to understand them.
- 🤖 Uses advanced AI (*LangChain magic*) to convert your rambles into Todoist tasks.
- 🌟 Supports multiple users and pretends to care about each of them.
- 🤔 Reminds you about your tasks... when it remembers to.

## Setup

Okay, brave soul. Ready to set this thing up? Follow these not-so-simple steps:

### Step 1: Clone the Repository
```bash
git clone https://github.com/your-funny-repo/todoist-taskbot.git
cd todoist-taskbot
```

### Step 2: Create Your `.env` File
You're going to need some secrets. Create a `.env` file at the root and paste in your super confidential API keys:

```
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
OPENAI_API_KEY=your_openai_api_key_here
```

You didn't forget to get those keys, did you (instructions to obtain[ telegram bot token](https://core.telegram.org/bots/tutorial); and [OpenAI key](https://help.openai.com/en/articles/4936850-where-do-i-find-my-openai-api-key))?

### Step 3: Deploy with [Docker](https://docs.docker.com/engine/install/)
It's 2024, and we all know Docker is life. Let's containerize this bad boy:

1. Build the Docker image:
   ```bash
   docker build -t todoist-taskbot .
   ```

2. Run the container:
   ```bash
   docker run --env-file .env -d todoist-taskbot
   ```

That's it! Now your bot is running in an isolated container, just as nature intended.

### Step 4: Update User Settings

During first interaction bot will ask for Todoist api key, [get it!]( https://todoist.com/help/articles/find-your-api-token-Jpzx9IIlB)

### Step 5: Install Dependencies with Conda and Run Locally (For Local Testing)
If you're testing locally and Docker isn't your thing, you can still run it the old-fashioned way:

1. Install dependencies:
   ```bash
   conda env create -f environment.yaml
   conda activate todoist-taskbot-env
   ```

2. Run the bot:
   ```bash
   python3 main.py
   ```

SQLite will create the database file automatically if it doesn't exist. Hopefully, the bot starts up without too much judgment from Python itself.

### Step 5: Pray 🙏
Because software never works the first time.

## Commands

- **/drop_user_data**: Drops all your data. Because sometimes you need a fresh start, or you've finally decided that robots knowing everything about you isn't fun anymore.

## Contributing

Found a bug? Cool. You want to fix it? Even better. Make a pull request and let's talk about it like adults (or just blame it on Python).

## License

We believe in open-source software, and we're not really in this for the money anyway. MIT License.

---

### Disclaimer 💀
Almost everything including this readme was generated by ChatGPT, code is not total 💩 (up to me, not-quite-pro-python-guy), but could use some humanoid love.  

Scheduling mechanisms are rely on infinite cycle (possibly leaking memory with time, but I did not check). Bad, bad idea. Yet very simple.

This bot is not guaranteed to save your life or remember the due time correctly. Use at your own peril. Don't let this bot run your entire life, or you might end up with a reminder for "buy milk" during a marriage proposal.


Enjoy responsibly! 🍻

